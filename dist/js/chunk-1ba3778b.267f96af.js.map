{"version":3,"sources":["webpack:///./src/Chat.vue?f0d6","webpack:///./src/Chat.vue?442f","webpack:///src/Chat.vue","webpack:///./src/Chat.vue?b319","webpack:///./src/Chat.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_l","contact","key","_v","_s","username","style","align","color","attrs","on","$event","select","name","fetchMessages","float","addNew","message","class","author","authUser","email","createdAt","toDate","getMonth","getDate","getHours","getMinutes","directives","rawName","value","expression","domProps","type","indexOf","_k","keyCode","saveMessage","target","composing","module","model","callback","$$v","date","time","modal","addSession","_e","updateModule","staticRenderFns","data","messages","receipient","contacts","Date","toISOString","substr","menu","menu2","methods","db","collection","alert","console","log","fetchContacts","user","scrollToBottom","box","scrollTop","scrollHeight","e","$","created","computed","submittableDateTime","setHours","hours","setMinutes","minutes","beforeRouteEnter","next","vm","$router","push","component"],"mappings":"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","file":"js/chunk-1ba3778b.267f96af.js","sourcesContent":["import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&id=c93f8c2e&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&id=c93f8c2e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"messaging\"},[_c('div',{staticClass:\"inbox_msg\"},[_c('div',{staticClass:\"inbox_people\"},[_vm._m(0),_c('div',{staticClass:\"inbox_chat\"},_vm._l((_vm.contacts),function(contact){return _c('div',{key:contact,staticClass:\"chat_list active_chat\"},[_c('div',{staticClass:\"chat people\"},[_c('div',{staticClass:\"chat_ib\"},[_c('h5',[_vm._v(_vm._s(contact.username))]),_c('v-btn',{style:({ align: 'center', color: '#FFFFFF' }),attrs:{\"color\":\"#F1BA79\",\"tile\":\"\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.select(contact.name);\n                    _vm.fetchMessages();}}},[_vm._v(\" Start messaging \")]),_c('v-btn',{style:({\n                    align: 'center',\n                    color: '#FFFFFF',\n                    float: 'right',\n                  }),attrs:{\"color\":\"#F1BA79\",\"tile\":\"\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.select(contact.name);\n                    _vm.addNew();}}},[_vm._v(\"Schedule session\")])],1)])])}),0)]),_c('div',{staticClass:\"mesgs\"},[_c('div',{staticClass:\"msg_history\"},_vm._l((_vm.messages),function(message){return _c('div',{key:message,staticClass:\"incoming_msg\"},[_c('div',{class:[\n                message.author === _vm.authUser.email\n                  ? 'sent_msg'\n                  : 'received_msg' ]},[_c('div',{staticClass:\"received_withd_msg\"},[_c('p',[_vm._v(\" \"+_vm._s(message.message)+\" \")]),_c('span',{staticClass:\"time_date\"},[_vm._v(_vm._s(message.createdAt.toDate().getMonth() + '/' + message.createdAt.toDate().getDate() + ' ' + message.createdAt.toDate().getHours() + ':' + message.createdAt.toDate().getMinutes())+\"||\"+_vm._s(message.author))])])])])}),0),_c('div',{staticClass:\"type_msg\"},[_c('div',{staticClass:\"input_msg_write\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"write_msg\",attrs:{\"type\":\"text\",\"placeholder\":\"Type a message\"},domProps:{\"value\":(_vm.message)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.saveMessage($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}}),_vm._m(1)])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"module\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"editLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(2),_c('div',{staticClass:\"modal-body\"},[_vm._v(\" Module \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.module),expression:\"module\"}],staticClass:\"mod_input\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.module)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.module=$event.target.value}}}),_c('v-spacer'),_c('br'),_vm._v(\" Date \"),_c('br'),_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_c('v-spacer'),_vm._v(\" Time \"),_c('br'),_c('v-time-picker',{model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\" Close \")]),(_vm.modal == 'new')?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addSession()}}},[_vm._v(\" Save changes \")]):_vm._e(),(_vm.modal == 'edit')?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateModule()}}},[_vm._v(\" Apply changes \")]):_vm._e()])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"headind_srch\"},[_c('div',{staticClass:\"recent_heading\"},[_c('h4',[_vm._v(\"Recent\")])]),_c('div',{staticClass:\"srch_bar\"},[_c('div',{staticClass:\"stylish-input-group\"},[_c('input',{staticClass:\"search-bar\",attrs:{\"type\":\"text\",\"placeholder\":\"Search\"}}),_c('span',{staticClass:\"input-group-addon\"},[_c('button',{attrs:{\"type\":\"button\"}},[_c('i',{staticClass:\"fa fa-search\",attrs:{\"aria-hidden\":\"true\"}})])])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"msg_send_btn\",attrs:{\"type\":\"button\"}},[_c('i',{staticClass:\"fa fa-paper-plane-o\",attrs:{\"aria-hidden\":\"true\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"editLabel\"}},[_vm._v(\"Schedule a date!\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div class=\"messaging\">\n      <div class=\"inbox_msg\">\n        <div class=\"inbox_people\">\n          <div class=\"headind_srch\">\n            <div class=\"recent_heading\">\n              <h4>Recent</h4>\n            </div>\n            <div class=\"srch_bar\">\n              <div class=\"stylish-input-group\">\n                <input type=\"text\" class=\"search-bar\" placeholder=\"Search\" />\n                <span class=\"input-group-addon\">\n                  <button type=\"button\">\n                    <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n                  </button>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div class=\"inbox_chat\">\n            <div\n              v-for=\"contact in contacts\"\n              :key=\"contact\"\n              class=\"chat_list active_chat\"\n            >\n              <div class=\"chat people\">\n                <div class=\"chat_ib\">\n                  <h5>{{ contact.username }}</h5>\n                  <v-btn\n                    :style=\"{ align: 'center', color: '#FFFFFF' }\"\n                    color=\"#F1BA79\"\n                    tile\n                    outlined\n                    @click=\"\n                      select(contact.name);\n                      fetchMessages();\n                    \"\n                  >\n                    Start messaging\n                  </v-btn>\n                  <v-btn\n                    :style=\"{\n                      align: 'center',\n                      color: '#FFFFFF',\n                      float: 'right',\n                    }\"\n                    color=\"#F1BA79\"\n                    tile\n                    outlined\n                    @click=\"\n                      select(contact.name);\n                      addNew();\n                    \"\n                    >Schedule session</v-btn\n                  >\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"mesgs\">\n          <div class=\"msg_history\">\n            <div\n              v-for=\"message in messages\"\n              v-bind:key=\"message\"\n              class=\"incoming_msg\"\n            >\n              <div\n                :class=\"[\n                  message.author === authUser.email\n                    ? 'sent_msg'\n                    : 'received_msg',\n                ]\"\n              >\n                <div class=\"received_withd_msg\">\n                  <p>\n                    {{ message.message }}\n                  </p>\n\n                  <span class=\"time_date\"\n                    >{{\n                      message.createdAt.toDate().getMonth() +\n                        '/' +\n                        message.createdAt.toDate().getDate() +\n                        ' ' +\n                        message.createdAt.toDate().getHours() +\n                        ':' +\n                        message.createdAt.toDate().getMinutes()\n                    }}||{{ message.author }}</span\n                  >\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"type_msg\">\n            <div class=\"input_msg_write\">\n              <input\n                @keyup.enter=\"saveMessage\"\n                v-model=\"message\"\n                type=\"text\"\n                class=\"write_msg\"\n                placeholder=\"Type a message\"\n              />\n              <button class=\"msg_send_btn\" type=\"button\">\n                <i class=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Modal -->\n    <div\n      class=\"modal fade\"\n      id=\"module\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"editLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"editLabel\">Schedule a date!</h5>\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            Module\n            <input class=\"mod_input\" type=\"text\" v-model=\"module\" />\n            <v-spacer></v-spacer>\n            <br />\n\n            Date\n            <br />\n            <v-date-picker v-model=\"date\" no-title scrollable></v-date-picker>\n            <v-spacer></v-spacer>\n            Time\n            <br />\n            <v-time-picker v-model=\"time\"></v-time-picker>\n          </div>\n          <div class=\"modal-footer\">\n            <button\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-dismiss=\"modal\"\n            >\n              Close\n            </button>\n            <button\n              @click=\"addSession()\"\n              type=\"button\"\n              class=\"btn btn-primary\"\n              v-if=\"modal == 'new'\"\n            >\n              Save changes\n            </button>\n            <button\n              @click=\"updateModule()\"\n              type=\"button\"\n              class=\"btn btn-primary\"\n              v-if=\"modal == 'edit'\"\n            >\n              Apply changes\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport firebase from 'firebase';\n\nexport default {\n  name: 'Chat',\n\n  data() {\n    return {\n      message: null,\n      messages: [],\n      authUser: {},\n      receipient: '',\n      contacts: [],\n      modal: null,\n      date: new Date().toISOString().substr(0, 10),\n      menu: false,\n      menu2: false,\n      time: new Date(),\n      module: null,\n    };\n  },\n  methods: {\n    saveMessage() {\n      //save message to firestore\n      if (this.message != null) {\n        db.collection('chat')\n          .add({\n            message: this.message,\n            author: this.authUser.email,\n            createdAt: new Date(),\n            receipient: this.receipient,\n            auth_rec: this.authUser.email.concat(this.receipient).length,\n          })\n          .then(() => {\n            this.scrollToBottom();\n          });\n      } else {\n        alert('Enter message first');\n      }\n      this.message = null;\n    },\n    fetchMessages() {\n      if (this.receipient) {\n        db.collection('chat')\n          .where(\n            'auth_rec',\n            '==',\n            firebase.auth().currentUser.email.concat(this.receipient).length\n          )\n          .orderBy('createdAt')\n          .onSnapshot((querySnapshot) => {\n            let allMessages = [];\n            querySnapshot.forEach((doc) => {\n              allMessages.push(doc.data());\n            });\n            this.messages = allMessages;\n\n            setTimeout(() => {\n              this.scrollToBottom();\n            }, 1000);\n          });\n      } else {\n        console.log('no receipient');\n      }\n    },\n    fetchContacts() {\n      firebase.auth().onAuthStateChanged((user) => {\n        if (user) {\n          db.collection('users')\n            .doc(user.uid)\n            .collection('contacts')\n            .onSnapshot((querySnapshot) => {\n              let allContacts = [];\n              querySnapshot.forEach((doc) => {\n                let email = doc.data().name;\n                console.log('email', email);\n                db.collection('users')\n                  .where('email', '==', email)\n                  .get()\n                  .then((snapshot) => {\n                    snapshot.forEach((doc) => {\n                      console.log(doc.data());\n                      allContacts.push(doc.data());\n                    });\n                  });\n                // allContacts.push(doc.data());\n              });\n              this.contacts = allContacts;\n            });\n        }\n      });\n    },\n    scrollToBottom() {\n      let box = document.querySelector('.msg_history');\n      box.scrollTop = box.scrollHeight;\n    },\n    select: function(e) {\n      this.receipient = e;\n    },\n    addNew() {\n      this.modal = 'new';\n      $('#module').modal('show');\n    },\n    addSession() {\n      db.collection('studentrequests')\n        .doc(firebase.auth().currentUser.uid)\n        .set({\n          date: this.submittableDateTime,\n          author: firebase.auth().currentUser.email,\n          receipient: this.receipient,\n          created: new Date(),\n          module: this.module,\n          accepted: false,\n          uid: firebase.auth().currentUser.uid,\n          auth_rec: firebase.auth().currentUser.email.concat(this.receipient)\n            .length,\n        })\n        .then(() => {\n          this.modal = null;\n        });\n    },\n  },\n  created() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.authUser = user;\n      } else {\n        this.authUser = {};\n      }\n    });\n    this.fetchContacts();\n  },\n  computed: {\n    submittableDateTime() {\n      const date = new Date(this.date);\n      if (typeof this.time === 'string') {\n        const hours = this.time.match(/^(\\d+)/)[1];\n        const minutes = this.time.match(/:(\\d+)/)[1];\n        date.setHours(hours);\n        date.setMinutes(minutes);\n      } else {\n        date.setHours(this.time.getHours());\n        date.setMinutes(this.time.getMinutes());\n      }\n      return date;\n    },\n  },\n  beforeRouteEnter(to, from, next) {\n    next((vm) => {\n      firebase.auth().onAuthStateChanged((user) => {\n        if (user) {\n          next();\n        } else {\n          vm.$router.push('/login');\n        }\n      });\n    });\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  max-width: 1170px;\n  margin: auto;\n}\nimg {\n  max-width: 100%;\n}\n.inbox_people {\n  background: #f8f8f8 none repeat scroll 0 0;\n  float: left;\n  overflow: hidden;\n  width: 40%;\n  border-right: 1px solid #c4c4c4;\n}\n.inbox_msg {\n  border: 1px solid #c4c4c4;\n  clear: both;\n  overflow: hidden;\n}\n.top_spac {\n  margin: 20px 0 0;\n}\n\n.recent_heading {\n  float: left;\n  width: 40%;\n}\n.srch_bar {\n  display: inline-block;\n  text-align: right;\n  width: 60%;\n  padding: ;\n}\n.headind_srch {\n  padding: 10px 29px 10px 20px;\n  overflow: hidden;\n  border-bottom: 1px solid #c4c4c4;\n}\n\n.recent_heading h4 {\n  color: #05728f;\n  font-size: 21px;\n  margin: auto;\n}\n.srch_bar input {\n  border: 1px solid #cdcdcd;\n  border-width: 0 0 1px 0;\n  width: 80%;\n  padding: 2px 0 4px 6px;\n  background: none;\n}\n.srch_bar .input-group-addon button {\n  background: rgba(0, 0, 0, 0) none repeat scroll 0 0;\n  border: medium none;\n  padding: 0;\n  color: #707070;\n  font-size: 18px;\n}\n.srch_bar .input-group-addon {\n  margin: 0 0 0 -27px;\n}\n\n.chat_ib h5 {\n  font-size: 15px;\n  color: #464646;\n  margin: 3%;\n}\n.chat_ib h5 span {\n  font-size: 13px;\n  float: right;\n}\n.chat_ib p {\n  font-size: 14px;\n  color: #989898;\n  margin: auto;\n}\n.chat_img {\n  float: left;\n  width: 11%;\n}\n.chat_ib {\n  /* float: left; */\n  display: 'flex';\n  flex-direction: 'row';\n  padding: 0 0 0 0px;\n  width: 88%;\n  font-size: 30px;\n}\n\n.chat_people {\n  overflow: hidden;\n  clear: both;\n}\n.chat_list {\n  border-bottom: 1px solid #c4c4c4;\n  margin: 0;\n  padding: 2%;\n}\n.inbox_chat {\n  height: 550px;\n  overflow-y: scroll;\n}\n\n.active_chat {\n  background: #ebebeb;\n}\n\n.incoming_msg_img {\n  display: inline-block;\n  width: 6%;\n}\n.received_msg {\n  display: inline-block;\n  padding: 0 0 0 10px;\n  width: 92%;\n  margin-left: auto;\n  position: relative;\n}\n.received_withd_msg p {\n  margin-top: auto;\n  margin-bottom: auto;\n  margin-left: 10px;\n  border-radius: 25px;\n  background-color: #82ccdd;\n  padding: 10px;\n  position: relative;\n}\n.time_date {\n  color: #747474;\n  display: block;\n  font-size: 12px;\n  margin: 8px 0 0;\n}\n.received_withd_msg {\n  width: 57%;\n}\n.mesgs {\n  padding: 30px 15px 0 25px;\n  width: 60%;\n  display: flex;\n  flex-direction: column;\n}\n\n.sent_msg p {\n  border-radius: 25px;\n  background-color: #ffa41b;\n  padding: 10px;\n  position: relative;\n}\n.outgoing_msg {\n  overflow: hidden;\n  margin: 26px 0 26px;\n}\n.sent_msg {\n  display: inline-block;\n  padding: 0 0 0 10px;\n  width: 92%;\n  position: relative;\n  margin-left: 250px;\n}\n.input_msg_write input {\n  background: rgba(0, 0, 0, 0) none repeat scroll 0 0;\n  border: medium none;\n  color: #4c4c4c;\n  font-size: 15px;\n  min-height: 48px;\n  width: 100%;\n}\n\n.type_msg {\n  border-top: 1px solid #c4c4c4;\n  position: relative;\n}\n.msg_send_btn {\n  background: #05728f none repeat scroll 0 0;\n  border: medium none;\n  border-radius: 50%;\n  color: #fff;\n  cursor: pointer;\n  font-size: 17px;\n  height: 33px;\n  position: absolute;\n  right: 0;\n  top: 11px;\n  width: 33px;\n}\n.messaging {\n  padding: 0 0 50px 0;\n}\n.msg_history {\n  height: 516px;\n  overflow-y: auto;\n}\n\n.mx-2 {\n  float: 'left';\n  color: '#FFFFFF';\n}\n.modal-body {\n  align-items: center;\n  align-self: center;\n  padding: 15px 22px;\n  margin: 10px 5px;\n  box-sizing: border-box;\n}\n\n.mod_input {\n  width: 100%;\n  height: 20px;\n  padding: 15px 22px;\n  margin: 10px 5px;\n  box-sizing: border-box;\n  border: 1px solid #000;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=c93f8c2e&scoped=true&\"\nimport script from \"./Chat.vue?vue&type=script&lang=js&\"\nexport * from \"./Chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chat.vue?vue&type=style&index=0&id=c93f8c2e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c93f8c2e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}